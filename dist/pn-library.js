/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(function webpackUniversalModuleDefinition(root, factory) {
	if(typeof exports === 'object' && typeof module === 'object')
		module.exports = factory();
	else if(typeof define === 'function' && define.amd)
		define([], factory);
	else if(typeof exports === 'object')
		exports["PN"] = factory();
	else
		root["PN"] = factory();
})(self, () => {
return /******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/index.js":
/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PN: () => (/* reexport safe */ _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"]),\n/* harmony export */   createNote: () => (/* reexport safe */ _wave_player_js__WEBPACK_IMPORTED_MODULE_2__.createNote),\n/* harmony export */   createSong: () => (/* reexport safe */ _wave_player_js__WEBPACK_IMPORTED_MODULE_2__.createSong),\n/* harmony export */   instrument: () => (/* reexport safe */ _instruments_instrumentSelector_js__WEBPACK_IMPORTED_MODULE_1__.instrument),\n/* harmony export */   save: () => (/* reexport safe */ _output_wav_js__WEBPACK_IMPORTED_MODULE_3__.save),\n/* harmony export */   setDuration: () => (/* reexport safe */ _wave_setProperties_js__WEBPACK_IMPORTED_MODULE_4__.setDuration),\n/* harmony export */   setHarmonic: () => (/* reexport safe */ _wave_setProperties_js__WEBPACK_IMPORTED_MODULE_4__.setHarmonic),\n/* harmony export */   setVolume: () => (/* reexport safe */ _wave_setProperties_js__WEBPACK_IMPORTED_MODULE_4__.setVolume)\n/* harmony export */ });\n/* harmony import */ var _pn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pn.js */ \"./src/pn.js\");\n/* harmony import */ var _instruments_instrumentSelector_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instruments/instrumentSelector.js */ \"./src/instruments/instrumentSelector.js\");\n/* harmony import */ var _wave_player_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wave/player.js */ \"./src/wave/player.js\");\n/* harmony import */ var _output_wav_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./output/wav.js */ \"./src/output/wav.js\");\n/* harmony import */ var _wave_setProperties_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./wave/setProperties.js */ \"./src/wave/setProperties.js\");\n// index.js - The entry point file for Webpack\n\n // Import the base PN object\n // Add PN.instrument method\n// Import other functions\n\n\n\n\n// Attach PN and other functions to the global window object to make them accessible\n\n\n\n//# sourceURL=webpack://PN/./src/index.js?");

/***/ }),

/***/ "./src/input/parseStringInput.js":
/*!***************************************!*\
  !*** ./src/input/parseStringInput.js ***!
  \***************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\n// parseStringInput.js\n\n// Helper function to parse song input\nfunction parseSongInput(songData) {\n  var parsedData = [];\n  var _iterator = _createForOfIteratorHelper(songData),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var entry = _step.value;\n      // Split by colon to separate duration and notes\n      var _entry$split = entry.split(':'),\n        _entry$split2 = _slicedToArray(_entry$split, 2),\n        durationStr = _entry$split2[0],\n        notesStr = _entry$split2[1];\n      var duration = parseFloat(durationStr); // Convert the duration to a float\n\n      // Split the notes by '-' for multiple notes\n      var notesArray = notesStr.split('-');\n      parsedData.push({\n        duration: duration,\n        // Parsed duration\n        notes: notesArray // Array of note names (e.g., [\"a4\", \"f5\"])\n      });\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return parsedData;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (parseSongInput);\n\n//# sourceURL=webpack://PN/./src/input/parseStringInput.js?");

/***/ }),

/***/ "./src/instruments/envelope.js":
/*!*************************************!*\
  !*** ./src/instruments/envelope.js ***!
  \*************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   ahdsr: () => (/* binding */ ahdsr),\n/* harmony export */   combi: () => (/* binding */ combi),\n/* harmony export */   diamond: () => (/* binding */ diamond),\n/* harmony export */   drawl: () => (/* binding */ drawl),\n/* harmony export */   drop: () => (/* binding */ drop),\n/* harmony export */   envelopes: () => (/* binding */ envelopes),\n/* harmony export */   flat: () => (/* binding */ flat),\n/* harmony export */   rise: () => (/* binding */ rise),\n/* harmony export */   round: () => (/* binding */ round),\n/* harmony export */   tadpole: () => (/* binding */ tadpole),\n/* harmony export */   tempered: () => (/* binding */ tempered),\n/* harmony export */   triangle: () => (/* binding */ triangle)\n/* harmony export */ });\n// envelope.js\n\n// Envelopes control the shape of the note and how it's played\nvar envelopes = {};\n\n// Initialize envelopes\nenvelopes['drop'] = drop;\nenvelopes['rise'] = rise;\nenvelopes['round'] = round;\nenvelopes['triangle'] = triangle;\nenvelopes['tadpole'] = tadpole;\nenvelopes['flat'] = flat;\nenvelopes['combi'] = combi;\nenvelopes['diamond'] = diamond;\nenvelopes['drawl'] = drawl;\nenvelopes['tempered'] = tempered;\n\n// Envelope Functions\n\n//\n// -----\n//\n// Flat envelope: constant amplitude\n/*\nAttack (A): 0 (instant)\nDecay (D): 0 (no decay)\nSustain (S): 1 (constant sustain level)\nRelease (R): 0 (no release)\n*/\nfunction flat(input, duration) {\n  return 1;\n}\n\n// -- .\n//     \\\n//      \\\n// Drop envelope: cosine decay\n/*\nAttack (A): 0 (no attack phase)\nDecay (D): The entire duration is a decay phase, decaying from 1 to 0.\nSustain (S): 0 (no sustain)\nRelease (R): The function ends at 0, meaning the release is implicit.\n*/\n\nfunction drop(input, duration) {\n  return Math.cos(Math.PI * input / (2 * duration));\n}\n\n//   . --\n//  /\n// /\n// Rise envelope: sine ramp up\n/*\nAttack (A): The entire duration is an attack phase, rising smoothly from 0 to 1.\nDecay (D): 0 (no decay)\nSustain (S): 0 (no sustain)\nRelease (R): 0 (no release)\n*/\nfunction rise(input, duration) {\n  return Math.sin(Math.PI * input / (2 * duration));\n}\n\n//   . -- .\n//  /      \\\n// /        \\\n// Round envelope: sine wave up and down\n/*\nAttack (A): The first half of the duration (rising from 0 to 1).\nDecay (D): The second half of the duration (falling from 1 to 0).\nSustain (S): 0 (no sustain phase)\nRelease (R): Implicit (since the function returns to 0).\n*/\nfunction round(input, duration) {\n  return Math.sin(Math.PI * input / duration);\n}\n\n//   /\\\n//  /  \\\n// /    \\\n\n// Triangle envelope: sawtooth wave\n/*\nAttack (A): The rising part of the triangle (from 0 to 1).\nDecay (D): The falling part of the triangle (from 1 to 0).\nSustain (S): 0 (no sustain phase)\nRelease (R): Implicit (since the function returns to 0).\n*/\n\nfunction triangle(input, duration) {\n  return 2 / Math.PI * Math.asin(Math.sin(2 * Math.PI * input / duration));\n}\n\n// Tadpole-shaped envelope\nfunction tadpole(input, duration) {\n  return Math.sin(Math.PI * input / duration) - 0.5 * Math.sin(2 * Math.PI * input / duration) + 0.333 * Math.sin(3 * Math.PI * input / duration) - 0.25 * Math.sin(4 * Math.PI * input / duration);\n}\n\n// Combi envelope: combination of sine and cosine\nfunction combi(input, duration) {\n  return Math.sin(Math.PI * input / duration) / 2 + Math.cos(Math.PI * input / (2 * duration)) / 3;\n}\n\n// Diamond envelope: multiple sine waves combined\nfunction diamond(input, duration) {\n  return 2 / Math.PI * Math.asin(Math.sin(Math.PI * input / duration)) / 4 + 2 / Math.PI * Math.asin(Math.sin(2 * Math.PI * input / duration)) / 4;\n}\n\n// Drawl envelope: logarithmic decay\nfunction drawl(input, duration) {\n  return 1 / Math.log10(2 * Math.PI * input / duration + 1.9);\n}\n\n// Tempered envelope: combines drop and drawl\nfunction tempered(input, duration) {\n  return drop(input, duration) * drawl(input, duration);\n}\nfunction ahdsr(input, duration, attack, hold, decay, sustainLevel, release) {\n  if (input < attack) {\n    // Attack phase: rise from 0 to 1\n    return Math.sin(Math.PI * input / (2 * attack));\n  } else if (input < attack + hold) {\n    // Hold phase: maintain maximum amplitude\n    return 1;\n  } else if (input < attack + hold + decay) {\n    // Decay phase: fall from 1 to sustain level\n    return Math.cos(Math.PI * (input - (attack + hold)) / (2 * decay)) * (1 - sustainLevel) + sustainLevel;\n  } else if (input < duration - release) {\n    // Sustain phase: maintain sustain level\n    return sustainLevel;\n  } else {\n    // Release phase: fall from sustain level to 0\n    return Math.cos(Math.PI * (input - (duration - release)) / (2 * release)) * sustainLevel;\n  }\n}\n\n// Export the envelopes object\n\n\n//# sourceURL=webpack://PN/./src/instruments/envelope.js?");

/***/ }),

/***/ "./src/instruments/instrumentSelector.js":
/*!***********************************************!*\
  !*** ./src/instruments/instrumentSelector.js ***!
  \***********************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   instrument: () => (/* binding */ instrument)\n/* harmony export */ });\n/* harmony import */ var _pn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pn.js */ \"./src/pn.js\");\n/* harmony import */ var _instruments_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instruments.js */ \"./src/instruments/instruments.js\");\n// instrumentSelector.js\n\n\n // Assuming you have an Instruments class defined\n\n// Helper to select an instrument\nfunction instrument(instrumentName) {\n  switch (instrumentName.toLowerCase()) {\n    case 'piano':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Piano();\n      break;\n    case 'organ':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Organ();\n      break;\n    case 'guitar':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Guitar();\n      break;\n    case 'bass':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Bass();\n      break;\n    case 'violin':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Violin();\n      break;\n    case 'trumpet':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Trumpet();\n      break;\n    case 'flute':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Flute();\n      break;\n    case 'drum':\n      _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_js__WEBPACK_IMPORTED_MODULE_1__.Instruments().Drum();\n      break;\n    default:\n      console.log(\"Instrument not found!\");\n      return;\n  }\n  console.log(\"Selected instrument: \".concat(instrumentName));\n}\n;\n\n\n//# sourceURL=webpack://PN/./src/instruments/instrumentSelector.js?");

/***/ }),

/***/ "./src/instruments/instruments.js":
/*!****************************************!*\
  !*** ./src/instruments/instruments.js ***!
  \****************************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Instruments: () => (/* binding */ Instruments)\n/* harmony export */ });\n/* harmony import */ var _envelope_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./envelope.js */ \"./src/instruments/envelope.js\");\n/* harmony import */ var _wave_harmonic_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../wave/harmonic.js */ \"./src/wave/harmonic.js\");\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n//instruments.js\n // Assuming drop is an envelope function\n\nvar Instruments = /*#__PURE__*/function () {\n  function Instruments() {\n    _classCallCheck(this, Instruments);\n  }\n  return _createClass(Instruments, [{\n    key: \"Piano\",\n    value: function Piano() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.drop;\n    }\n  }, {\n    key: \"Organ\",\n    value: function Organ() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.rise;\n    }\n  }, {\n    key: \"Guitar\",\n    value: function Guitar() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.round;\n    }\n  }, {\n    key: \"Bass\",\n    value: function Bass() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.tadpole;\n    }\n  }, {\n    key: \"Violin\",\n    value: function Violin() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.flat;\n    }\n  }, {\n    key: \"Trumpet\",\n    value: function Trumpet() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.flat;\n    }\n  }, {\n    key: \"Flute\",\n    value: function Flute() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.flat;\n    }\n  }, {\n    key: \"Drum\",\n    value: function Drum() {\n      return _envelope_js__WEBPACK_IMPORTED_MODULE_0__.flat;\n    }\n  }]);\n}();\n\n//# sourceURL=webpack://PN/./src/instruments/instruments.js?");

/***/ }),

/***/ "./src/output/channels.js":
/*!********************************!*\
  !*** ./src/output/channels.js ***!
  \********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   mono: () => (/* binding */ mono),\n/* harmony export */   stereo: () => (/* binding */ stereo)\n/* harmony export */ });\n/* harmony import */ var _pn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pn.js */ \"./src/pn.js\");\nfunction _readOnlyError(r) { throw new TypeError('\"' + r + '\" is read-only'); }\n\n\n// Create the stereo output by interleaving two channels (left and right)\n\n// Create the stereo output by interleaving two channels (left and right)\nfunction mono() {\n  var c1 = _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].songDataOutput;\n  return c1;\n}\nfunction stereo() {\n  var c1 = _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].songDataOutput;\n  var c2 = _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].songDataOutput;\n  var maxTuneLength = 6000000;\n  var tolerance = 1500;\n\n  // Check if the input arrays exceed the maximum tune length\n  if (c1.length > maxTuneLength) {\n    throw new Error('Tune too long, use the command line tool instead');\n  }\n  var minLength = Math.floor(c1.length);\n\n  // Duplicate c1 if c2 is empty\n  if (c2.length === 0) {\n    c1.slice(), _readOnlyError(\"c2\");\n  }\n\n  // Adjust lengths if they are within the tolerance\n  var d1 = c1.length - c2.length;\n  var d2 = c2.length - c1.length;\n  if (d1 > 0 && d1 < tolerance) {\n    c1.slice(0, c2.length), _readOnlyError(\"c1\");\n  } else if (d2 > 0 && d2 < tolerance) {\n    c2.slice(0, c1.length), _readOnlyError(\"c2\");\n  }\n\n  // Interleave the samples to form stereo data\n  var stereoData = [];\n  for (var i = 0; i < minLength; i++) {\n    stereoData.push(c1[i], c2[i]);\n  }\n  return stereoData;\n}\n\n\n//# sourceURL=webpack://PN/./src/output/channels.js?");

/***/ }),

/***/ "./src/output/wav.js":
/*!***************************!*\
  !*** ./src/output/wav.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   save: () => (/* binding */ save)\n/* harmony export */ });\n/* harmony import */ var _channels_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./channels.js */ \"./src/output/channels.js\");\n\n\n// Function to create WAV header using Uint8Array\nfunction writeWaveHeader(dataLength, sampleRate) {\n  var numChannels = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n  var bitsPerSample = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 16;\n  var byteRate = sampleRate * numChannels * bitsPerSample / 8;\n  var blockAlign = numChannels * bitsPerSample / 8;\n\n  // Uint8Array with a size of 44 bytes for the header\n  var buffer = new Uint8Array(44);\n  var view = new DataView(buffer.buffer);\n\n  // \"RIFF\" chunk descriptor\n  buffer.set([82, 73, 70, 70], 0); // \"RIFF\"\n  view.setUint32(4, 36 + dataLength, true); // Chunk size\n  buffer.set([87, 65, 86, 69], 8); // \"WAVE\"\n\n  // \"fmt \" sub-chunk\n  buffer.set([102, 109, 116, 32], 12); // \"fmt \"\n  view.setUint32(16, 16, true); // Subchunk1Size (16 for PCM)\n  view.setUint16(20, 1, true); // AudioFormat (1 for PCM)\n  view.setUint16(22, numChannels, true); // NumChannels\n  view.setUint32(24, sampleRate, true); // SampleRate\n  view.setUint32(28, byteRate, true); // ByteRate\n  view.setUint16(32, blockAlign, true); // BlockAlign\n  view.setUint16(34, bitsPerSample, true); // BitsPerSample\n\n  // \"data\" sub-chunk\n  buffer.set([100, 97, 116, 97], 36); // \"data\"\n  view.setUint32(40, dataLength, true); // Subchunk2Size (data length)\n\n  return buffer;\n}\n\n// Function to save WAV file\nfunction save(fileName) {\n  var sampleRate = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 44100;\n  var volume = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 5000;\n  var data = (0,_channels_js__WEBPACK_IMPORTED_MODULE_0__.mono)(); // Get the audio data from the mono function (assumed to be between -1 and 1)\n  var bitsPerSample = 16;\n  var numChannels = 2; // Stereo\n\n  var maxVolume = 32767;\n  var volumeScale = maxVolume / volume;\n\n  // Create buffer for audio data (2 bytes per sample per channel)\n  var buffer = new Uint8Array(data.length * numChannels * 2);\n  var view = new DataView(buffer.buffer);\n  for (var i = 0; i < data.length; i++) {\n    var sample = Math.max(-1, Math.min(1, data[i] * volumeScale));\n    var intSample = Math.floor(sample * 32767);\n\n    // Write sample for both left and right channels\n    view.setInt16(i * 4, intSample, true); // Left channel\n    view.setInt16(i * 4 + 2, intSample, true); // Right channel\n  }\n\n  // Create WAV header\n  var waveHeader = writeWaveHeader(buffer.length, sampleRate, numChannels, bitsPerSample);\n\n  // Combine header and audio data into one buffer\n  var wavFile = new Uint8Array(waveHeader.length + buffer.length);\n  wavFile.set(waveHeader, 0);\n  wavFile.set(buffer, waveHeader.length);\n\n  // Create a Blob from the WAV data\n  var blob = new Blob([wavFile], {\n    type: 'audio/wav'\n  });\n\n  // Create a download link and trigger it\n  var a = document.createElement('a');\n  a.href = URL.createObjectURL(blob);\n  a.download = fileName;\n  document.body.appendChild(a);\n  a.click();\n  document.body.removeChild(a);\n  console.log(\"WAV file saved as \".concat(fileName));\n}\n\n/*\nimport fs from 'fs';\nimport {mono} from './channels.js'\n\n\nconst sampleRate = 44100;\nconst bitDepth = 16;\nconst numChannels = 2;\nconst wavAudioFormat = 1;\nconst tolerance = 1500;\nconst maxTuneLength = 6000000;\n\n\nfunction writeWaveHeader(dataLength, sampleRate, numChannels = 1, bitsPerSample = 16) {\n  const byteRate = sampleRate * numChannels * bitsPerSample / 8;\n  const blockAlign = numChannels * bitsPerSample / 8;\n  \n  const buffer = Buffer.alloc(44);\n  \n  // Chunk ID \"RIFF\"\n  buffer.write('RIFF', 0);\n  // Chunk size: 36 + data length\n  buffer.writeUInt32LE(36 + dataLength, 4);\n  // Format \"WAVE\"\n  buffer.write('WAVE', 8);\n  // Sub-chunk 1 ID \"fmt \"\n  buffer.write('fmt ', 12);\n  // Sub-chunk 1 size (16 for PCM)\n  buffer.writeUInt32LE(16, 16);\n  // Audio format (1 for PCM)\n  buffer.writeUInt16LE(1, 20);\n  // Number of channels\n  buffer.writeUInt16LE(numChannels, 22);\n  // Sample rate\n  buffer.writeUInt32LE(sampleRate, 24);\n  // Byte rate (sampleRate * numChannels * bitsPerSample / 8)\n  buffer.writeUInt32LE(byteRate, 28);\n  // Block align (numChannels * bitsPerSample / 8)\n  buffer.writeUInt16LE(blockAlign, 32);\n  // Bits per sample\n  buffer.writeUInt16LE(bitsPerSample, 34);\n  // Sub-chunk 2 ID \"data\"\n  buffer.write('data', 36);\n  // Sub-chunk 2 size (data length)\n  buffer.writeUInt32LE(dataLength, 40);\n\n  return buffer;\n}\n\nexport function save(filePath, sampleRate = 44100, volume = 5000) {\n  const data = mono()\n  const bitsPerSample = 16;\n  const numChannels = 2; // Set to 2 for stereo\n\n  // Adjust volume to fit within the 16-bit PCM range\n  const maxVolume = 32767; // Max value for 16-bit PCM\n  const volumeScale = maxVolume / volume;\n\n  // Convert data to PCM format for 2 channels (stereo)\n  const buffer = Buffer.alloc(data.length * numChannels * 2); // 16-bit (2 bytes per sample per channel)\n\n  for (let i = 0; i < data.length; i++) {\n    const sample = Math.max(-1, Math.min(1, data[i] * volumeScale)); // Scale volume and clamp between -1 and 1\n    const intSample = Math.floor(sample * 32767); // Convert to 16-bit PCM\n\n    // Write sample for left channel (i * 4) and right channel ((i * 4) + 2)\n    buffer.writeInt16LE(intSample, i * 4);       // Left channel\n    buffer.writeInt16LE(intSample, (i * 4) + 2); // Right channel\n  }\n\n  // Calculate data length for stereo (2 channels)\n  const dataLength = buffer.length;\n\n  // Write WAV header with 2 channels\n  const waveHeader = writeWaveHeader(dataLength, sampleRate, numChannels, bitsPerSample);\n\n  // Write header and audio data to file\n  fs.writeFileSync(filePath.toString(), Buffer.concat([waveHeader, buffer]));\n  console.log(`WAV file saved to ${filePath}`);\n}\n\n// Helper function to write the wave header\nexport function writeWAV1Channel(data, filePath, sampleRate = 44100, volume = 5000) {\n  const bitsPerSample = 16;\n  const numChannels = 1;\n\n  // Adjust volume to fit within the 16-bit PCM range\n  const maxVolume = 32767; // Max value for 16-bit PCM\n  const volumeScale = maxVolume / volume;\n\n  // Convert data to PCM format\n  const buffer = Buffer.alloc(data.length * 2); // 16-bit (2 bytes per sample)\n\n  for (let i = 0; i < data.length; i++) {\n    const sample = Math.max(-1, Math.min(1, data[i] * volumeScale)); // Scale volume and clamp between -1 and 1\n    buffer.writeInt16LE(sample * 32767, i * 2); // Convert to 16-bit PCM\n  }\n\n  const waveHeader = writeWaveHeader(buffer.length, sampleRate, numChannels, bitsPerSample);\n\n  // Write the header and data to the file\n  fs.writeFileSync(filePath.toString(), Buffer.concat([waveHeader, buffer]));\n  console.log(`WAV file saved to ${filePath}`);\n}\n*/\n\n//# sourceURL=webpack://PN/./src/output/wav.js?");

/***/ }),

/***/ "./src/pn.js":
/*!*******************!*\
  !*** ./src/pn.js ***!
  \*******************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var _pitchFrequencies_json__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./pitchFrequencies.json */ \"./src/pitchFrequencies.json\");\n/* harmony import */ var _instruments_envelope_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./instruments/envelope.js */ \"./src/instruments/envelope.js\");\n/* harmony import */ var _wave_harmonic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./wave/harmonic.js */ \"./src/wave/harmonic.js\");\n// pn.js\n\n // Assuming drop is an envelope function\n // Import harmonic functions\nvar PN = {\n  currentInstrument: null,\n  pitchFrequencies: _pitchFrequencies_json__WEBPACK_IMPORTED_MODULE_0__,\n  // Assume pitchFrequencies is loaded from JSON\n\n  // Add properties for duration, volume, and harmonic\n  duration: 0.5,\n  // Default duration in seconds\n  volume: 0.2,\n  // Default volume level\n  harmonic: _wave_harmonic_js__WEBPACK_IMPORTED_MODULE_2__.first,\n  // Default harmonic function\n  songDataOutput: null,\n  key: 'C5#'\n};\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (PN);\n\n//# sourceURL=webpack://PN/./src/pn.js?");

/***/ }),

/***/ "./src/wave/encoder.js":
/*!*****************************!*\
  !*** ./src/wave/encoder.js ***!
  \*****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   Note: () => (/* binding */ Note),\n/* harmony export */   Tune: () => (/* binding */ Tune)\n/* harmony export */ });\n/* harmony import */ var _utils_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utils.js */ \"./src/wave/utils.js\");\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t[\"return\"] || t[\"return\"](); } finally { if (u) throw o; } } }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction _toConsumableArray(r) { return _arrayWithoutHoles(r) || _iterableToArray(r) || _unsupportedIterableToArray(r) || _nonIterableSpread(); }\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _iterableToArray(r) { if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r); }\nfunction _arrayWithoutHoles(r) { if (Array.isArray(r)) return _arrayLikeToArray(r); }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _classCallCheck(a, n) { if (!(a instanceof n)) throw new TypeError(\"Cannot call a class as a function\"); }\nfunction _defineProperties(e, r) { for (var t = 0; t < r.length; t++) { var o = r[t]; o.enumerable = o.enumerable || !1, o.configurable = !0, \"value\" in o && (o.writable = !0), Object.defineProperty(e, _toPropertyKey(o.key), o); } }\nfunction _createClass(e, r, t) { return r && _defineProperties(e.prototype, r), t && _defineProperties(e, t), Object.defineProperty(e, \"prototype\", { writable: !1 }), e; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\n\n\n// Define pitch and keys globally\nvar pitch = {};\nvar tuneKey = {};\nvar sharpKeys = [];\nvar flatKeys = [];\n\n// Initialize pitches and keys\nsetupPitches();\nsetupKeys();\n\n// Note class representing a musical note\nvar Note = /*#__PURE__*/function () {\n  function Note() {\n    var pitch = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n    var accidental = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var length = arguments.length > 2 ? arguments[2] : undefined;\n    var env = arguments.length > 3 ? arguments[3] : undefined;\n    var har = arguments.length > 4 ? arguments[4] : undefined;\n    var vol = arguments.length > 5 ? arguments[5] : undefined;\n    _classCallCheck(this, Note);\n    this.pitch = Array.isArray(pitch) ? pitch : [];\n    this.accidental = accidental.length ? accidental : Array(this.pitch.length).fill(0);\n    this.length = length;\n    this.env = env;\n    this.har = har;\n    this.vol = vol;\n\n    //console.log(`Created Note - Pitch: ${this.pitch}, Accidental: ${this.accidental}, Length: ${this.length}, Volume: ${this.vol}`);\n  }\n  return _createClass(Note, [{\n    key: \"encode\",\n    value: function encode() {\n      var _this = this;\n      if (this.pitch.length === 0) {\n        //console.log(`Rest note - Length: ${this.length}`);\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.rest)(this.length); // Handle rest\n      }\n\n      // Convert each pitch to its frequency and apply accidental adjustments\n      var noteDataArray = this.pitch.map(function (p, i) {\n        var adjustedPitch = p + (_this.accidental[i] || 0); // Apply accidental (sharp or flat)\n        //const frequencyValue = frequency(adjustedPitch);\n        var frequencyValue = adjustedPitch;\n\n        //console.log(`${i} Encoding Note - Original Pitch: ${p}, Adjusted Pitch: ${adjustedPitch}, Frequency: ${frequencyValue}`);\n        //return noteData(441, 0.5, this.env, this.har, 0.2);\n        return (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.noteData)(frequencyValue, _this.length, _this.env, _this.har, _this.vol);\n      });\n      return concatNotes.apply(void 0, _toConsumableArray(noteDataArray)); // Handle both single note and chord\n    }\n  }]);\n}();\nvar Tune = /*#__PURE__*/function () {\n  function Tune(key) {\n    var ch1 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : [];\n    var ch2 = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : [];\n    _classCallCheck(this, Tune);\n    this.key = key;\n    this.ch1 = this.ensureNotes(ch1); // Ensure that notes are instances of the Note class\n    this.ch2 = this.ensureNotes(ch2); // Ensure that notes are instances of the Note class\n  }\n\n  // Ensure that all items in the array are instances of the Note class\n  return _createClass(Tune, [{\n    key: \"ensureNotes\",\n    value: function ensureNotes(notes) {\n      return notes.map(function (note) {\n        if (note instanceof Note) {\n          return note;\n        } else {\n          return new Note(note.pitch, note.accidental, note.length, note.env, note.har, note.vol);\n        }\n      });\n    }\n  }, {\n    key: \"encode\",\n    value: function encode() {\n      var acc = (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.inKey)(sharpKeys, this.key) ? 1 : (0,_utils_js__WEBPACK_IMPORTED_MODULE_0__.inKey)(flatKeys, this.key) ? -1 : 0;\n      this.ch1.forEach(function (note) {\n        return adjustAccidentals(note, acc);\n      });\n      this.ch2.forEach(function (note) {\n        return adjustAccidentals(note, acc);\n      });\n      var ch1Data = [];\n      var ch2Data = [];\n      for (var i = 0; i < this.ch1.length; i++) {\n        var note = this.ch1[i];\n        console.log(\"Note ch1 \".concat(JSON.stringify(note)));\n        var encoded = note.encode();\n        ch1Data.push(encoded);\n      }\n      for (var _i = 0; _i < this.ch2.length; _i++) {\n        var _note = this.ch2[_i];\n        console.log(\"Note ch2 \".concat(JSON.stringify(_note)));\n        var _encoded = _note.encode();\n        ch2Data.push(_encoded);\n      }\n\n      //    return stereo(ch1Data.flat(), ch2Data.flat());\n\n      return ch1Data.flat();\n    }\n  }]);\n}();\nfunction concatNotes() {\n  for (var _len = arguments.length, notes = new Array(_len), _key = 0; _key < _len; _key++) {\n    notes[_key] = arguments[_key];\n  }\n  // Check if there are any notes\n  if (notes.length === 0) return [];\n\n  // Get the length of the first note (to compare lengths of all notes)\n  var length = notes[0].length;\n\n  // Ensure all notes have the same length\n  for (var _i2 = 0, _notes = notes; _i2 < _notes.length; _i2++) {\n    var note = _notes[_i2];\n    if (note.length !== length) {\n      throw new Error(\"Length of notes are not the same\");\n    }\n  }\n\n  // Create an array to hold the concatenated result\n  var data = new Array(length).fill(0);\n\n  // Add up all the notes at each index\n  for (var i = 0; i < length; i++) {\n    var _iterator = _createForOfIteratorHelper(notes),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _note2 = _step.value;\n        data[i] += _note2[i];\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  return data;\n}\n\n// Adjust accidentals for each note based on key signature\nfunction adjustAccidentals(note, acc) {\n  if (!note.pitch || !Array.isArray(note.pitch) || note.pitch.length === 0) {\n    note.pitch = [];\n  }\n  if (!note.accidental || !Array.isArray(note.accidental)) {\n    note.accidental = Array(note.pitch.length).fill(0);\n  }\n  note.accidental = note.accidental.map(function (a) {\n    return a + acc;\n  });\n}\n\n/*\nsetupPitches();\nsetupKeys();\n\nconsole.log(pitch);   // Output the pitch mapping\nconsole.log(tuneKey); // Output the key signature mapping\n*/\n\n// Utility function to set up pitches\n// Setup pitches\n\nfunction setupPitches() {\n  var notes = [\"c\", \"d\", \"e\", \"f\", \"g\", \"a\", \"b\"];\n  var nums = [-57, -55, -53, -52, -50, -48, -46];\n  var _loop = function _loop(i) {\n    notes.forEach(function (note, j) {\n      nums[j] += 12;\n      pitch[\"\".concat(note).concat(i)] = nums[j];\n    });\n  };\n  for (var i = 1; i < 8; i++) {\n    _loop(i);\n  }\n}\n\n// Initialize the tuneKey array, which is used to apply the key signature to notes\n\nfunction setupKeys() {\n  tuneKey[\"C\"] = [];\n  var sharpKeys = [\"G\", \"D\", \"A\", \"E\", \"B\", \"F#\", \"C#\"];\n  var sharpNotes = [pitch[\"f1\"], pitch[\"c1\"], pitch[\"g1\"], pitch[\"d1\"], pitch[\"a1\"], pitch[\"e1\"], pitch[\"b1\"]];\n  sharpKeys.forEach(function (key, i) {\n    var k = [];\n    for (var j = 0; j < i + 1; j++) {\n      for (var l = 1; l < 6; l++) {\n        k.push(sharpNotes[j] + 12 * l);\n      }\n    }\n    tuneKey[key] = k;\n  });\n  var flatKeys = [\"F\", \"Bb\", \"Eb\", \"Ab\", \"Db\", \"Gb\", \"Cb\"];\n  var flatNotes = [pitch[\"b1\"], pitch[\"e1\"], pitch[\"a1\"], pitch[\"d1\"], pitch[\"g1\"], pitch[\"c1\"], pitch[\"f1\"]];\n  flatKeys.forEach(function (key, i) {\n    var k = [];\n    for (var j = 0; j < i + 1; j++) {\n      for (var l = 1; l < 6; l++) {\n        k.push(flatNotes[j] + 12 * l);\n      }\n    }\n    tuneKey[key] = k;\n  });\n}\n\n\n//# sourceURL=webpack://PN/./src/wave/encoder.js?");

/***/ }),

/***/ "./src/wave/harmonic.js":
/*!******************************!*\
  !*** ./src/wave/harmonic.js ***!
  \******************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   base: () => (/* binding */ base),\n/* harmony export */   first: () => (/* binding */ first),\n/* harmony export */   harmonics: () => (/* binding */ harmonics),\n/* harmony export */   second: () => (/* binding */ second),\n/* harmony export */   stringed: () => (/* binding */ stringed),\n/* harmony export */   third: () => (/* binding */ third)\n/* harmony export */ });\n// harmonic.js\n\n// The harmonic describes the additional harmonics added to the fundamental frequency\nvar harmonics = {};\n\n// Initialize harmonics\nharmonics['first'] = first;\nharmonics['second'] = second;\nharmonics['third'] = third;\nharmonics['stringed'] = stringed;\n\n// Base function to calculate the base frequency\nfunction base(input) {\n  return 2 * Math.PI * input;\n}\n\n// First harmonic: fundamental frequency\nfunction first(input) {\n  return Math.sin(base(input));\n}\n\n// Second harmonic: adds the second harmonic (double the base frequency)\nfunction second(input) {\n  return Math.sin(base(input)) + Math.sin(base(input) * 2);\n}\n\n// Third harmonic: adds the third harmonic (triple the base frequency)\nfunction third(input) {\n  return Math.sin(base(input)) + Math.sin(base(input) * 2) + Math.sin(base(input) * 3);\n}\n\n// Stringed instrument harmonic: complex combination of harmonics\nfunction stringed(input) {\n  return 3 * Math.sin(base(input)) + 0.5 * Math.sin(base(input) * 0.5) + 1.5 * Math.sin(base(input) * 2) + 0.25 * Math.sin(base(input) * 3) + 0.125 * Math.sin(base(input) * 4);\n}\n\n// Export the harmonics object\n\n\n//# sourceURL=webpack://PN/./src/wave/harmonic.js?");

/***/ }),

/***/ "./src/wave/player.js":
/*!****************************!*\
  !*** ./src/wave/player.js ***!
  \****************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNote: () => (/* binding */ createNote),\n/* harmony export */   createSong: () => (/* binding */ createSong)\n/* harmony export */ });\n/* harmony import */ var _pn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pn.js */ \"./src/pn.js\");\n/* harmony import */ var _encoder_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./encoder.js */ \"./src/wave/encoder.js\");\n/* harmony import */ var _harmonic_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./harmonic.js */ \"./src/wave/harmonic.js\");\n/* harmony import */ var _instruments_instruments_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../instruments/instruments.js */ \"./src/instruments/instruments.js\");\n/* harmony import */ var _input_parseStringInput_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ../input/parseStringInput.js */ \"./src/input/parseStringInput.js\");\n/* harmony import */ var _pitchFrequencies_json__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ../pitchFrequencies.json */ \"./src/pitchFrequencies.json\");\n\n // Assuming Note class exists\n // Assuming harmonic functions are imported\n // Assuming Instruments class is imported\n\n\n\n// Helper to create a note\nfunction createNote(noteName) {\n  // Set default instrument to piano if no instrument is selected\n  if (!_pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument) {\n    console.log(\"No instrument selected, defaulting to Piano.\");\n    _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument = new _instruments_instruments_js__WEBPACK_IMPORTED_MODULE_3__.Instruments().Piano(); // Default to piano\n  }\n  var frequency = _pitchFrequencies_json__WEBPACK_IMPORTED_MODULE_5__[noteName];\n  if (!frequency) {\n    console.log(\"Note \".concat(noteName, \" not found!\"));\n    return;\n  }\n  var note = new _encoder_js__WEBPACK_IMPORTED_MODULE_1__.Note([frequency],\n  // Frequency for the note\n  [0],\n  // No accidentals\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].duration,\n  // Use PN's duration\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].currentInstrument,\n  // Use the selected instrument's envelope\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].harmonic,\n  // Use PN's harmonic function\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].volume // Use PN's volume level\n  );\n  console.log(\"Created note \".concat(noteName, \" with frequency \").concat(frequency));\n  return note;\n}\n\n// Helper to create a song\nfunction createSong(songData) {\n  var myTune = new _encoder_js__WEBPACK_IMPORTED_MODULE_1__.Tune(_pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].key, [],\n  // ch1: Will be filled with notes\n  [] // ch2: Will be filled with notes\n  );\n  var parsedData = (0,_input_parseStringInput_js__WEBPACK_IMPORTED_MODULE_4__[\"default\"])(songData); // Parse the input data\n  var songNotes = [];\n\n  // Loop through each parsed entry and create notes using createNote\n  parsedData.forEach(function (entry) {\n    var duration = entry.duration,\n      notes = entry.notes; // Destructure duration and notes from parsedData\n\n    // Set the duration for this note in PN (optional: use duration overrides)\n    _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].duration = duration;\n\n    // Loop through the notes and create each one using createNote\n    notes.forEach(function (noteName) {\n      var note = createNote(noteName); // Use createNote for each note\n      if (note) {\n        myTune.ch1.push(note); // Encode and add it to the song array\n      }\n    });\n  });\n\n  // Concatenate all notes to form the song\n  var songDataOutput = myTune.encode();\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].songDataOutput = songDataOutput;\n  return songDataOutput;\n}\n\n\n//# sourceURL=webpack://PN/./src/wave/player.js?");

/***/ }),

/***/ "./src/wave/setProperties.js":
/*!***********************************!*\
  !*** ./src/wave/setProperties.js ***!
  \***********************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   setDuration: () => (/* binding */ setDuration),\n/* harmony export */   setHarmonic: () => (/* binding */ setHarmonic),\n/* harmony export */   setVolume: () => (/* binding */ setVolume)\n/* harmony export */ });\n/* harmony import */ var _pn_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../pn.js */ \"./src/pn.js\");\n// setProperties.js\n\n\n\n// Set duration for notes\nfunction setDuration(duration) {\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].duration = duration;\n  console.log(\"Duration set to \".concat(duration, \" seconds\"));\n}\n;\n\n// Set volume for notes\nfunction setVolume(volume) {\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].volume = volume;\n  console.log(\"Volume level set to \".concat(volume));\n}\n;\n\n// Set harmonic function for notes\nfunction setHarmonic(harmonicFunc) {\n  _pn_js__WEBPACK_IMPORTED_MODULE_0__[\"default\"].harmonic = harmonicFunc;\n  console.log(\"Harmonic function set\");\n}\n;\n\n\n//# sourceURL=webpack://PN/./src/wave/setProperties.js?");

/***/ }),

/***/ "./src/wave/utils.js":
/*!***************************!*\
  !*** ./src/wave/utils.js ***!
  \***************************/
/***/ ((__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   calculateFrequency: () => (/* binding */ calculateFrequency),\n/* harmony export */   concat: () => (/* binding */ concat),\n/* harmony export */   frequency: () => (/* binding */ frequency),\n/* harmony export */   inKey: () => (/* binding */ inKey),\n/* harmony export */   inNote: () => (/* binding */ inNote),\n/* harmony export */   noteData: () => (/* binding */ noteData),\n/* harmony export */   noteData2: () => (/* binding */ noteData2),\n/* harmony export */   rest: () => (/* binding */ rest)\n/* harmony export */ });\nfunction _slicedToArray(r, e) { return _arrayWithHoles(r) || _iterableToArrayLimit(r, e) || _unsupportedIterableToArray(r, e) || _nonIterableRest(); }\nfunction _nonIterableRest() { throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction _iterableToArrayLimit(r, l) { var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (null != t) { var e, n, i, u, a = [], f = !0, o = !1; try { if (i = (t = t.call(r)).next, 0 === l) { if (Object(t) !== t) return; f = !1; } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0); } catch (r) { o = !0, n = r; } finally { try { if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return; } finally { if (o) throw n; } } return a; } }\nfunction _arrayWithHoles(r) { if (Array.isArray(r)) return r; }\n// utils.js\n\n// Sample rate is assumed to be constant\nvar sampleRate = 44100,\n  bitDepth = 16,\n  numChannels = 2,\n  wavAudioFormat = 1,\n  tolerance = 1500;\n\n// Generate rest (silence) data for the specified duration\nfunction rest(duration) {\n  var restData = [];\n  var totalSamples = Math.floor(duration * sampleRate);\n  for (var i = 0; i < totalSamples; i++) {\n    restData.push(0); // Silence\n  }\n  return restData;\n}\n\n// Concatenates an array of note arrays\nfunction concat() {\n  for (var _len = arguments.length, notes = new Array(_len), _key = 0; _key < _len; _key++) {\n    notes[_key] = arguments[_key];\n  }\n  return notes.flat(); // Flatten all note arrays into one\n}\n\n// Calculate frequency from pitch step\nfunction frequency(step) {\n  return 440.0 * Math.pow(2, step / 12.0); // A440 standard\n}\n\n// Returns the note data based on frequency, duration, envelope, harmonic, and volume\nfunction noteData(frequency, duration, envelope, harmonic, volume) {\n  var data = [];\n  for (var i = 0.0; i < duration; i = i + 1.0 / sampleRate) {\n    var x = volume * envelope(i, duration) * harmonic(frequency * i);\n    //    const amplitude = envelope(time, duration) * harmonic(frequency * i) *volume;\n\n    data.push(x);\n  }\n  return data;\n}\nfunction frequencyScale(step) {\n  return 440.0 * Math.pow(2, step / 12.0);\n}\nfunction floorTowardsZero(num) {\n  console.log(Math.floor(num));\n  return Math.floor(num);\n}\nfunction noteData2(frequency, duration, envelope, harmonic, volume) {\n  var data = [];\n  for (var i = 0; i < duration; i += 1.0 / sampleRate) {\n    var x = Math.floor(volume * envelope(i, duration) * harmonic(frequency * i));\n    data.push(x);\n  }\n  return data;\n}\nfunction sineWaveAt(sampleNumber, tone) {\n  var sampleFreq = sampleRate / tone;\n  return Math.sin(sampleNumber / (sampleFreq / (Math.PI * 2)));\n}\n\n// Returns the note data based on frequency, duration, envelope, harmonic, and volume\n/*export function noteData(frequency, duration, envelope, harmonic, volume) {\n  const arr = [];\n\n  volume = 0.2;\n  const seconds = 0.5;\n  const tone = 441;\n\n  for (var i = 0; i < sampleRate * seconds; i++) {\n    arr[i] = sineWaveAt(i, tone) * volume\n  }\n  return arr;\n}\n*/\n\n// Check if the given note is in the key signature\nfunction inKey(keys, note) {\n  return keys.includes(note);\n}\n\n// Check if the note is part of the specified key\nfunction inNote(notes, note) {\n  return notes.includes(note);\n}\n\n// utils.js\n\n/**\n * Get the frequency of a note based on its distance from A4 (440 Hz).\n * @param {string} note - The note (e.g., 'C4', 'A4', 'G#5').\n * @returns {number} - The frequency of the note in Hz.\n */\nfunction calculateFrequency(note) {\n  var noteMap = {\n    'C': -9,\n    'C#': -8,\n    'D': -7,\n    'D#': -6,\n    'E': -5,\n    'F': -4,\n    'F#': -3,\n    'G': -2,\n    'G#': -1,\n    'A': 0,\n    'A#': 1,\n    'B': 2\n  };\n  var noteUpper = note.toUpperCase();\n  var parsedNote = noteUpper.match(/^([A-G]#?)(\\d)$/);\n  if (!parsedNote) throw new Error(\"Invalid note format: \".concat(note));\n  var _parsedNote = _slicedToArray(parsedNote, 3),\n    noteName = _parsedNote[1],\n    octave = _parsedNote[2];\n  var semitoneDistance = noteMap[noteName] + (parseInt(octave) - 4) * 12;\n  return 440 * Math.pow(2, semitoneDistance / 12); // Frequency calculation\n}\n\n//# sourceURL=webpack://PN/./src/wave/utils.js?");

/***/ }),

/***/ "./src/pitchFrequencies.json":
/*!***********************************!*\
  !*** ./src/pitchFrequencies.json ***!
  \***********************************/
/***/ ((module) => {

eval("module.exports = /*#__PURE__*/JSON.parse('{\"C1\":32.7,\"C1#\":34.65,\"D1\":36.71,\"D1b\":38.89,\"E1\":41.2,\"F1\":43.65,\"F1#\":46.25,\"G1\":49,\"G1b\":51.91,\"A1\":55,\"A1#\":58.27,\"B1\":61.74,\"C2\":65.41,\"C2#\":69.3,\"D2\":73.42,\"D2b\":77.78,\"E2\":82.41,\"F2\":87.31,\"F2#\":92.5,\"G2\":98,\"G2b\":103.83,\"A2\":110,\"A2#\":116.54,\"B2\":123.47,\"C3\":130.81,\"C3#\":138.59,\"D3\":146.83,\"D3b\":155.56,\"E3\":164.81,\"F3\":174.61,\"F3#\":185,\"G3\":196,\"G3b\":207.65,\"A3\":220,\"A3#\":233.08,\"B3\":246.94,\"C4\":261.63,\"C4#\":277.18,\"D4\":293.66,\"D4b\":311.13,\"E4\":329.63,\"F4\":349.23,\"F4#\":369.99,\"G4\":392,\"G4b\":415.3,\"A4\":440,\"A4#\":466.16,\"B4\":493.88,\"C5\":523.25,\"C5#\":554.37,\"D5\":587.33,\"D5b\":622.25,\"E5\":659.25,\"F5\":698.46,\"F5#\":739.99,\"G5\":783.99,\"G5b\":830.61,\"A5\":880,\"A5#\":932.33,\"B5\":987.77,\"C6\":1046.5,\"C6#\":1108.73,\"D6\":1174.66,\"D6b\":1244.51,\"E6\":1318.51,\"F6\":1396.91,\"F6#\":1479.98,\"G6\":1567.98,\"G6b\":1661.22,\"A6\":1760,\"A6#\":1864.66,\"B6\":1975.53,\"C7\":2093,\"C7#\":2217.46,\"D7\":2349.32,\"D7b\":2489.02,\"E7\":2637.02,\"F7\":2793.83,\"F7#\":2959.96,\"G7\":3135.96,\"G7b\":3322.44,\"A7\":3520,\"A7#\":3729.31,\"B7\":3951.07,\"C8\":4186.01}');\n\n//# sourceURL=webpack://PN/./src/pitchFrequencies.json?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.js");
/******/ 	
/******/ 	return __webpack_exports__;
/******/ })()
;
});